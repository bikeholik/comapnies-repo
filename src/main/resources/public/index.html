<!DOCTYPE html>
<html ng-app="app">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>companies-repo</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css"/>
    <link rel="stylesheet" href="css/style.css"/>

</head>

<body>

<div class="container-fluid" ng-controller="CompaniesController as c">

    <div class="page-header">
        <h1>Companies repo</h1>
    </div>

    <div>
        <h4>Companies
                <span class="badge" ng-click="showNewCompanyForm = !showNewCompanyForm">
                    Add new <span class="glyphicon {{showNewCompanyForm ? 'glyphicon-minus' : 'glyphicon-plus'}}"></span>
                </span>
        </h4>

        <form class="form-inline" ng-show="showNewCompanyForm" name="companyForm">
            <div class="form-group">
                <label for="name">Name: </label>
                <input type="text" class="form-control" id="name" placeholder="Company name"
                       ng-model="company.name" ng-required="true">
            </div>
            <div class="form-group">
                <label for="Address">Address: </label>
                <input type="text" class="form-control" id="address" placeholder="Address"
                       ng-model="company.address" ng-required="true">
                <input type="text" class="form-control" id="city" placeholder="City"
                       ng-model="company.city" ng-required="true">
                <input type="text" class="form-control" id="country" placeholder="Country"
                       ng-model="company.country" ng-required="true">
            </div>
            <div class="form-group">
                <label for="email">Email: </label>
                <input type="email" class="form-control" id="email" placeholder="Email"
                       ng-model="company.email" ng-required="false">
            </div>
            <div class="form-group">
                <label for="phoneNumber">Phone: </label>
                <input type="tel" class="form-control" id="phoneNumber" placeholder="Phone number"
                       ng-model="company.phoneNumber" ng-required="false">
            </div>
            <button type="submit" class="btn btn-success" ng-click="createNewCompany()" ng-disabled="companyForm.$invalid">
                Create
            </button>
        </form>
        <div ng-show="alert != null" style="margin-top: 10px; width: 50%">
            <div class="alert alert-{{alertClass}}">{{alert}}</div>
        </div>
        <table class="table table-striped">
            <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Info</th>
                <th>&nbsp;</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="company in companies">
                <td width="5%">
                    <small>{{company.id}}</small>
                </td>
                <td>{{company.name}}</td>
                <td>{{company.info}}</td>
                <td><button ng-click="getCompanyDetails(company)"><span class="glyphicon glyphicon-info-sign"></span></button>
                </td>
            </tr>
            </tbody>

            <tfoot>
            <!--<tr>-->
            <!--<td colspan="3">-->
            <!--<div class="text-right" style="margin-right: 10%">-->
            <!--<button class="btn btn-primary" ng-click="goToPage(0)">More</button>-->
            <!--</div>-->
            <!--</td>-->
            <!--</tr>-->
            </tfoot>
        </table>
    </div>
</div>

<footer class="footer">
    <div class="container">
        <p class="text-muted">&nbsp;</p>
    </div>
</footer>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-resource.min.js"></script>
<script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.12.0.min.js"></script>
<script src="js/app.js"></script>

<script type="text/ng-template" id="companyDetails.html">
    <div class="modal-header">
        <h3 class="modal-title">Company details</h3>
    </div>
    <div class="modal-body">
        {{company.name}}
        {{angular.toJson(company.owners, true)}}
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="ok()">OK</button>
    </div>
</script>

</body>
</html>